---
title: http协议 
date: 2020-09-20 13:16:17 
tags:
	- http 
---

# HTTP协议

## http协议的主要特点

>  简单快速、灵活、无连接、无状态HTTP三点注意事项：

- HTTP是无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。
- HTTP是媒体独立的：这意味着，只要客户端和服务器知道如何处理的数据内容，任何类型的数据都可以通过HTTP发送。客户端以及服务器指定使用适合的MIME-type内容类型。
- HTTP是无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。

## 请求报文

> 一个HTTP请求报文由请求行（request line）、请求头（header）、空行和请求数据4个部分组成，下图给出了请求报文的一般格式。

### 请求行

> 请求行：包括请求方法字段、URL字段和HTTP协议版本，如：GET /index.html HTTP/1.1。

### 请求头

> 请求头部由关键字/值对组成，每行一对，关键字和值用英文冒号“:”分隔。请求头部通知服务器有关于客户端请求的信息，典型的请求头有：
>
> - User-Agent：产生请求的浏览器类型。
>   Accept：客户端可识别的内容类型列表。
>   Host：请求的主机名，允许多个域名同处一个IP地址，即虚拟主机。
>   Content-Type：请求体的MIME类型 （用于POST和PUT请求中）。如：Content-Type: application/x-www-form-urlencoded





### 空行

>  最后一个请求头之后是一个空行，发送回车符和换行符，通知服务器以下不再有请求头。

### 请求数据

> 请求数据不在GET方法中使用，而是在POST方法中使用。POST方法适用于需要客户填写表单的场合。与请求数据相关的最常使用的请求头是Content-Type和Content-Length。

## 响应报文

>  包括：状态行、响应头、空行、响应正文。

##  HTTP 状态码

> HTTP状态码的英文为HTTP Status Code。状态代码由三位数字组成，第一个数字定义了响应的类别，且有五种可能取值。
>
>  
>
> 1xx：指示信息--表示请求已接收，继续处理。
> 2xx：成功--表示请求已被成功接收、理解、接受。
> 3xx：重定向--要完成请求必须进行更进一步的操作。
> 4xx：客户端错误--请求有语法错误或请求无法实现。
> 5xx：服务器端错误--服务器未能实现合法的请求。
>
> 常见状态代码、状态描述的说明如下。
>
> 200 OK：客户端请求成功。
> 400 Bad Request：客户端请求有语法错误，不能被服务器所理解。
> 401 Unauthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用。
> 403 Forbidden：服务器收到请求，但是拒绝提供服务。
> 404 Not Found：请求资源不存在，举个例子：输入了错误的URL。
> 500 Internal Server Error：服务器发生不可预期的错误。
> 503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常，举个例子：HTTP/1.1 200 OK（CRLF）。



## 优化

DNS 预解析

```js
<!--在head标签中，越早越好-->
<link rel="dns-prefetch" href="//example.com">
```


HTTP预连接

```js
<link rel="preconnect" href="//example.com">
<link rel="preconnect" href="//cdn.example.com" crossorigin>
```

